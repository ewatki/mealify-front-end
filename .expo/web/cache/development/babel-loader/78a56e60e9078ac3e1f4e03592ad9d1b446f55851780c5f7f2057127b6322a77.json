{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Form } from \"react-native-web/dist/index\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Main from \"../screens/MainNavigation\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\naxios.defaults.withCredentials = true;\nvar csfr_token = document.querySelector('meta[name=\"csrf-token\"]');\nconsole.log(csfr_token);\nvar client = axios.create({\n  baseURL: 'http://127.0.0.1:8000'\n});\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loggedIn = _useState2[0],\n    setLoggedIn = _useState2[1];\n  var _React$useState = React.useState(''),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    email = _React$useState2[0],\n    onChangeEmail = _React$useState2[1];\n  var _React$useState3 = React.useState(''),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    password = _React$useState4[0],\n    onChangePassword = _React$useState4[1];\n  function submitLogin(e) {\n    console.log(email, password);\n    e.preventDefault();\n    client.post('/user_api/logout');\n    client.post('/user_api/login/', {\n      email: email,\n      password: password\n    }).then(function (res) {\n      console.log(res.data);\n      navigation.navigate('Main');\n    }).catch(function (error) {\n      console.log(error);\n      console.log(error.request);\n    });\n  }\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: [_jsx(Text, {\n      children: \"Login\"\n    }), _jsxs(View, {\n      children: [_jsx(TextInput, {\n        autoCapitalize: \"none\",\n        placeholder: \"email\",\n        value: email,\n        onChangeText: onChangeEmail\n      }), _jsx(TextInput, {\n        autoCapitalize: \"none\",\n        secureTextEntry: true,\n        placeholder: \"password\",\n        value: password,\n        onChangeText: onChangePassword\n      })]\n    }), _jsx(Button, {\n      title: \"Login\",\n      onPress: submitLogin\n    })]\n  });\n};\nexport default Login;","map":{"version":3,"names":["React","View","Text","TextInput","Form","Button","useState","axios","Main","jsx","_jsx","jsxs","_jsxs","defaults","xsrfCookieName","xsrfHeaderName","withCredentials","csfr_token","document","querySelector","console","log","client","create","baseURL","Login","_ref","navigation","_useState","_useState2","_slicedToArray","loggedIn","setLoggedIn","_React$useState","_React$useState2","email","onChangeEmail","_React$useState3","_React$useState4","password","onChangePassword","submitLogin","e","preventDefault","post","then","res","data","navigate","catch","error","request","style","flex","alignItems","justifyContent","children","autoCapitalize","placeholder","value","onChangeText","secureTextEntry","title","onPress"],"sources":["/Users/phalesapatton/Developer/projects/mealify-front-end/auth-screens/Login.js"],"sourcesContent":["import React from 'react';\nimport { View, Text, TextInput, Form, Button } from 'react-native';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport Main from '../screens/MainNavigation';\n\naxios.defaults.xsrfCookieName = 'csrftoken';\naxios.defaults.xsrfHeaderName = 'X-CSRFToken';\naxios.defaults.withCredentials = true;\nlet csfr_token = document.querySelector('meta[name=\"csrf-token\"]')\nconsole.log(csfr_token)\n// console.log('Csrf Toakn: ', csfr_token)\n// const {data} = await axios.post('/user', document.querySelector('#my-form'), {\n//     headers: {\n//       'X-CSRFToken': csfr_token\n//     }\n//   })\nconst client = axios.create({\n    baseURL: 'http://127.0.0.1:8000'\n  })\n  \nconst Login = ({ navigation }) => {\n    const [loggedIn, setLoggedIn] = useState(false);\n    const [email, onChangeEmail] = React.useState('');\n    const [password, onChangePassword] = React.useState('');\n\n    // const [formFields, setFormFields] = useState({\n    //     email: '',\n    //     password: ''\n    // })\n\n    // const handleChange = (e, name) => {\n    //     setFormFields({...formFields, [name]: e.target.value})\n    // }\n\n    // const handleSubmit = (event) => {\n    //     event.preventDefault();\n    //     addNewBoardCallback(formFields);\n\n    //     setFormFields({\n    //         owner: '', \n    //         title: ''\n    //     });\n    // };\n\n    function submitLogin(e) {\n        console.log(email, password);\n        e.preventDefault();\n        client.post(\n            '/user_api/logout'\n        )\n        client.post(\n        '/user_api/login/',\n        {\n            email: email,\n            password: password\n        }\n        ).then(function(res) {\n            console.log(res.data);\n            navigation.navigate('Main');\n        }).catch(error => {\n            console.log(error);\n            console.log(error.request)\n        });\n    }\n\n    return (\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n            <Text>Login</Text>\n            <View>\n                <TextInput \n                    autoCapitalize='none'\n                    placeholder=\"email\" \n                    value={email} \n                    onChangeText={onChangeEmail}\n\n                    // onChange={(e) => handleChange(e, \"email\")}\n                />\n                <TextInput \n                    autoCapitalize='none'\n                    secureTextEntry={true}\n                    placeholder=\"password\"\n                    value={password}\n                    onChangeText={onChangePassword}\n                    // onChange={(e) => handleChange(e, \"password\")}\n                />\n            </View>\n            <Button\n            title=\"Login\"\n            onPress={submitLogin}\n            />\n        </View>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}